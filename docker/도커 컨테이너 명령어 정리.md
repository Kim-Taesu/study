#### 컨테이너 생성 및 시작

- `docker run [옵션] 이미지명[:태그명] [인수]`
- `컨테이너-실행   콘솔-결과-출력-옵션   컨테이너명   이미지명   컨테이너에서-실행할-명령`
- 옵션
  - `-a` : 표준 입력, 표준 출력, 표준 오류 출력에 어태치한다.
  - `--cidfile` : 컨테이너 ID를 파일로 출력한다.
  - `-d` : 컨테이너를 생성하고 백그라운드에서 실행
  - `-i` : 컨테이너의 표준 입력을 연다
  - `-t` : 단말기 디바이스를 사용한다.
  - `-u` : 사용자명을 지정
- 백그라운드 실행 옵션
  - `--restart=[no | on-failure | on-failure:횟수 n | always | unless-stopped]` : 명령의 실행 결과에 따라 재시작을 하는 옵션
  - `--rm` : 명령 실행 완료 후에 컨테이너를 자동으로 삭제
- 네트워크 설정 옵션
  - `--add-host=[호스트명:IP 주소]` : 컨테이너의 /etc/hosts에 호스트명과 IP 주소를 정의
  - `--dns=[IP 주소]` : 컨테이너용 DNS 서버의 IP 주소 지정
  - `--expose` : 지정한 범위의 포트 번호를 할당
  - `-h` : 컨테이너 자신의 호스트명을 지정
  - `-p [호스트 포트 번호]:[컨테이너의 포트 번호]` : 호스트와 컨테이너의 포트 매핑
  - `--net=[bridge | none | container:<name | id> | host | NETWORK]` : 컨테이너의 네트워크를 지정
    - bridge : 브리지 연결(기본값)을 사용
    - none : 네트워크에 연결하지 않는다
    - container:[name | id] : 다른 컨테이너의 네트워크를 사용
    - host : 컨테이너가 호스트 OS의 네트워크를 사용
    - NETWORK : 사용자 정의 네트워크 사용
- 자원 지정 옵션
  - `-c` : CPU의 사용 배분
  - `-m` : 사용할 메모리를 제한하여 실행
  - `-v [host의 디렉토리]:[컨테이너의 디렉토리]` : 호스트와 컨테이너의 디렉토리를 공유
- 컨테이너 환경 옵션
  - `-e [환경변수 명=환경변수 설정 값]` : 환경변수를 설정한다.
  - `-w=[작업 디렉토리 path]` : 컨테이너의 작업 디렉토리를 지정



#### 컨테이너 목록 표시

- `docker container ls [옵션]`
- `-a` : 실행 중 / 정지 중인 것도 포함하여 모든 컨테이너를 표시
- `-q` : 컨테이너 ID만 표시
- `-s` : 파일 크기 표시



#### 컨테이너 가동 확인

- `docker container stats [컨테이너 식별자]`



#### 컨테이너 시작

- `docker container start [옵션] [컨테이너 식별자]`

- 옵션

  - `-a` : 표준 출력, 표준 오류 출력을 연다
  - `-i` : 컨테이너의 표준 입력을 연다

  

#### 컨테이너 정지

- `docker container stop [옵션] [컨테이너 식별자]`

- 옵션

  - `-t` : 컨테이너의 정지 시간을 지정 (기본값 10초)

  

#### 컨테이너 재시작

- `docker container restart [옵션] [컨테이너 식별자]`



#### 컨테이너 삭제

- `docker container rm [옵션] [컨테이너 식별자]`
- 옵션
  - `-f` : 실행중인 컨테이너를 강제로 삭제
  - `-v` : 할당한 볼륨을 삭제

---

#### 가동 컨테이너 연결

- `docker container attach [컨테이너 이름]`



#### 가동 컨테이너에서 프로세스 실행

- `docker container exec [옵션] [컨테이너 이름] [실행할 명령] [인수]`

- 옵션

  - `-d` : 명령을 백그라운드에서 실행
  - `-i` : 컨테이너의 표준 입력을 연다
  - `-t` : 디바이스를 사용
  - `-u` : 사용자명을 지정

- 컨테이너에서 bash 실행

  - `docker container exec -it [컨테이너 이름] /bin/bash`

  

#### 가동 컨테이너의 프로세스 확인

- `docker container top [컨테이너 이름]`



#### 가동 컨테이너의 포트 전송 확인

- `docker container port [컨테이너 이름]`



#### 컨테이너 이름 변경

- `docker container rename [기존 컨테이너 이름] [바꿀 컨테이너 이름]`



#### 컨테이너 파일 전송

- 컨테이너 -> 호스트

  - `docker container cp [컨테이너 이름]:[전송할 컨테이너 내부 파일 경로] [호스트 디렉토리 경로]`

- 호스트 -> 컨테이너

  - `docker container cp [호스트의 파일] [컨테이너 식별자]:[컨테이너 안의 파일 경로]`

  

#### 컨테이너 초기 이미지와의 차이점 확인

- `docker container diff [컨테이너 이름]`

---

#### 컨테이너로부터 이미지 생성

- `docker container commit [옵션] [컨테이너이름] [이미지명[:태그명]]`

- 옵션

  - `-a` : 작성자 지정
  - `-m` : 메시지 지정
  - `-c` : commit 할 때 Dockerfile 명령을 지정
  - `-p` : 컨테이너를 일시 정지하고 commit 명령 실행

  

#### 컨테이너를 tar 파일로 출력

- `docker container export [컨테이너 이름]`



#### tar 파일로부터 이미지 작성

- `docker image import [파일 또는 URL | - [이미지명[:태그명]]]`



#### 이미지 저장

- `docker image save [옵션] [저장할 파일 명] [이미지명]`
- 옵션
  - `-o` : 저장할 파일명을 설정

---

#### 불필요한 이미지 / 컨테이너를 일괄 삭제

- `docker system prune [옵션]`
- 옵션
  - `-a` : 사용하지 않는 리소스를 모두 삭제한다.
  - `-f` : 강제적으로 삭제